# evlua

Designed to be an open source, cross platform lua runtime environment for construction of scalable web applications

#### Goals
1. IO event driven (async) processing
2. lua (4GL) for development
3. Multi threaded, with co-operative multitasking (switch task upon IO event)
4. Usage of co-routines to achieve flowing code, i.e. no need for callbacks or promises

#### Inspired by
Node.js, golang


## Modules
### evpoco
Platform for runnning of lua code in asynchronous and event driven manner.
Much of the code is a fork from https://github.com/pocoproject/poco. Additional features are built on top of the base taken from pocoproject
This module provides 2 components

1. evlua: A standalone component to execute lua code in event driven manner
2. evluaserver: A HTTP(S) based server that listens to HTTP requests and hands them over to a lua script for processing

The components offer different features to an application

1. Platform: A library that provides a set of API to access platform (os, std library) level functions
	1. Asynchronous FILE IO
	2. HTML Form handling (Server side / Request only)
	3. 	Server Side (incoming) request
	4. 	Server Side (ougoing) response
	5. Client side (outgoing) request
	6. Client side (incoming) response
	7. TCP/IP Sockets
	8. Websockets
		1. Websocket client
		2. Webscket server
	9. Generic utilities
2. Socket connection pool
3. TLS/SSL support (evlnetssl)
4. Crypto library (evlcrypto)
5. Postgresql interface for connections and statments (evpostgres)
6. Sqlite interface for connections and statments (evpostgres)
7. Redis interface for connections and data fetch and store (evredis)
 

### service_utils
[A framework which provides a layer of stubs and utilities to facilitate classes implimented in lua be exposed as REST API ](https://github.com/Tekenlight/service_utils/wiki)

### efio
Library with these facilities 

1. Thread Pool
2. Event driven and asynchronous FILE IO
3. Lock free synchronization artifacts
4. Lock free (Wait free in case of enqueue) data structures, stack and queue
5. base64 encode/decode and hex encode/decode functions


### Customized luaffifb
This is a library for calling C function and manipulating C types from lua. It is designed to be interface compatible with the FFI library in LuaJIT (see http://luajit.org/ext_ffi.html). It can parse C function declarations and struct definitions that have been directly copied out of C header files and into lua source as a string.

This is a fork of https://github.com/facebookarchive/luaffifb which is inturn a fork of https://github.com/jmckaskill/luaffi

A few additional functions have been added over and above the capablities that are in the parent repository, which are documented in the repository


### lua_schema
lua_schema provides with tools and lua library for
* gxsd: Tool to parse XSD files and transform the rules within, to their expression in lua
* schema_processor: A lua class to access the message handler of an element by one of the means
	* From the code generated by gxsd, by locating the lua file in the installed directory based on manespace and element names
	* From the xsd file by dynamically generating the handler code
* Message handler: A generated class from element declaration. Message handler provides features for handling of XML and JSON files.
	* Generate a JSON string from lua table (object), based on XSD schema
	* Generate an XML document from lua table (object) based on XSD schema
	* Validate if a given lua table (object) is correct vis-a-vis the XSD rules
	* Parse an XML as per XSD schema to generate a lua table (object)
	* Parse a JSON string as per XSD schema to generate a lua table (object)


## Dependencies

#### Customized libxml2

#### Customized http-parser

#### Customized libev

#### Customized date

#### Customized hiredis

#### Customized lbc-101

#### Customized lua-5.3.5

#### Customized hiredis

#### luaposix

#### Penlight

#### cjson-lua


